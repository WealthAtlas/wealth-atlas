# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type InvestmentDTO {
  id: String!
  qty: Float
  valuePerQty: Float!
  date: DateTime!
  amount: Float!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type AssetDTO {
  id: String!
  name: String!
  description: String!
  category: String!
  maturityDate: DateTime
  currency: String!
  riskLevel: String!
  valueStrategy: ValueStrategy!
  currentValue: Float!
  growthRate: Float!
  qty: Float!
  investedAmount: Float!
  investments: [InvestmentDTO!]!
}

union ValueStrategy = FixedValueStrategy | DynamicValueStrategy | ManualValueStrategy

type FixedValueStrategy {
  type: String!
  growthRate: Float!
}

type DynamicValueStrategy {
  type: String!
  scriptCode: String!
  value: Float
  updatedAt: DateTime
}

type ManualValueStrategy {
  type: String!
  value: Float!
  updatedAt: DateTime!
}

type GoalDTO {
  id: Float!
  name: String!
  targetAmount: Float!
  inflationRate: Float!
  targetDate: DateTime!
  allocatedAssets: [AllocatedAssetDTO!]!
  allocateAsset(assetId: String!, percentage: Float!): AllocatedAssetDTO!
  removeAsset(assetId: String!): Boolean!
}

type AllocatedAssetDTO {
  asset: AssetDTO!
  percentage: Float!
}

type UserDTO {
  name: String!
  email: String!
}

type SIPDTO {
  id: String!
  assetId: String!
  name: String!
  amount: Float!
  frequency: FrequencyType!
  startDate: DateTime!
  endDate: DateTime
  lastExecutedDate: DateTime
  description: String
  asset: AssetDTO!
}

"""The frequency of SIP investment"""
enum FrequencyType {
  DAILY
  WEEKLY
  MONTHLY
  QUARTERLY
  YEARLY
}

type Query {
  user: UserDTO!
  assets: [AssetDTO!]!
  asset(id: String!): AssetDTO!
  goals: [GoalDTO!]!
  assetSIPs(assetId: String!): [SIPDTO!]!
}

type Mutation {
  registerUser(input: UserRegisterInput!): Boolean!
  loginUser(input: UserLoginInput!): Boolean!
  logoutUser: Boolean!
  createAsset(input: AssetInput!): AssetDTO!
  updateAsset(id: String!, input: AssetInput!): AssetDTO!
  addInvestment(assetId: String!, input: InvestmentInput!): InvestmentDTO!
  updateInvestment(assetId: String!, investmentId: String!, input: InvestmentInput!): [InvestmentDTO!]!
  deleteInvestment(assetId: String!, investmentId: String!): Boolean!
  createExpense(input: ExpenseInput!): Boolean!
  createGoal(input: GoalInput!): GoalDTO!
  updateGoal(goalId: Float!, input: GoalInput!): GoalDTO!
  createSIP(assetId: String!, input: SIPInput!): SIPDTO!
  updateSIP(sipId: String!, input: SIPInput!): SIPDTO!
  deleteSIP(sipId: String!): Boolean!
}

input UserRegisterInput {
  name: String!
  email: String!
  password: String!
}

input UserLoginInput {
  email: String!
  password: String!
}

input AssetInput {
  name: String!
  description: String!
  category: String!
  maturityDate: DateTime
  currency: String!
  riskLevel: String!
  fixedValueStrategy: FixedValueStrategyInput
  dynamicValueStrategy: DynamicValueStrategyInput
  manualValueStrategy: ManualValueStrategyInput
}

input FixedValueStrategyInput {
  type: String!
  growthRate: Float!
}

input DynamicValueStrategyInput {
  type: String!
  scriptCode: String!
  value: Float
}

input ManualValueStrategyInput {
  type: String!
  value: Float!
}

input InvestmentInput {
  qty: Float
  valuePerQty: Float!
  date: DateTime!
}

input ExpenseInput {
  description: String!
  amount: Float!
  category: String!
  currency: String!
  tags: [String!]!
  date: DateTime!
}

input GoalInput {
  name: String!
  targetAmount: Float!
  inflationRate: Float!
  targetDate: DateTime!
}

input SIPInput {
  name: String!
  amount: Float!
  frequency: FrequencyType!
  startDate: DateTime!
  endDate: DateTime
  description: String
}